# DBMS_Neo4j

## Описание проекта
Этот проект демонстрирует использование базы данных Neo4j для хранения и анализа информации о маршрутах автобусов и организациях, расположенных рядом с остановками. 
## Используемые технологии
- **Neo4j**: Графовая база данных для работы с узлами, отношениями и запросами.
- **Python**: Для взаимодействия с базой данных через библиотеку Neo4j Python Driver.
- **Cypher**: Язык запросов для работы с графами в Neo4j.

## Установка и запуск
1. Убедитесь, что Neo4j установлен и запущен на вашем устройстве.
2. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/novsmax/Neo4j-Bus-Routes-Data-Graph.git
   cd Neo4j-Bus-Routes-Data-Graph
   ```
3. Установите зависимости
   ```bash
   pip install neo4j
   ```
4. Создайте базу данных:
   ```bash
   python create_db.py
   ```
5. Запустите меню запросов: 
   ```bash
   python queries.py
   ```

## Структура данных
### Узлы:
- **Stop**: Остановка с названием.
- **Route**: Маршрут автобуса с номером.
- **Organization**: Организация рядом с остановкой (с категорией, например, "Магазин", "Кафе").

### Отношения:
- `PART_OF`: Остановка является частью маршрута.
- `LOCATED_NEAR`: Организация расположена рядом с остановкой.
- `NEXT_STOP`: Остановка связана с другой остановкой на маршруте (с указанием расстояния).

## Реализованные запросы
1. **Последовательность остановок для заданного маршрута**: Получение всех остановок в порядке следования.
2. **Организации рядом с заданной остановкой**: Вывод названий организаций.
3. **Остановки с возможностью пересадки**: Найти пересадочные узлы.
4. **Остановки, где проходит только один маршрут**: Поиск остановок без пересадок.
5. **Учебные организации и ближайшие к ним остановки**.
6. **Маршруты между двумя остановками**:
   - На одном маршруте.
   - С пересадками.
7. **Минимальный маршрут по количеству остановок**:
   - На одном маршруте.
   - С пересадками.
8. **Маршруты, проходящие через три заданные остановки**.
9. **Маршрут с максимальным количеством магазинов рядом**.
10. **Минимальный маршрут по расстоянию между остановками**.
11. **Организации рядом с третьей остановкой от заданной**.
12. **Маршруты длиной более 10 км**.

## Примеры запросов
Пример запроса для поиска минимального маршрута по расстоянию:
```cypher
MATCH path = shortestPath((start:Stop {name: "ул. Хейкконена"})-[r*]-(end:Stop {name: "ул. Ватутина"}))
WITH path, REDUCE(totalDistance = 0, rel IN relationships(path) | totalDistance + rel.distance) AS totalDistance
RETURN path, totalDistance
ORDER BY totalDistance ASC
LIMIT 1

